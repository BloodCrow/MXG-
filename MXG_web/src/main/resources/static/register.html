<!DOCTYPE HTML>
<html>
<head>
<title>MXG注册</title>
<link rel="shortcut icon" href="favicon.ico" >
<!-- Custom Theme files -->
<link href="css/style.css" rel="stylesheet" type="text/css" media="all"/>
<!-- Custom Theme files -->
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> 
<meta name="keywords" content="Login form web template, Sign up Web Templates, Flat Web Templates, Login signup Responsive web template, Smartphone Compatible web template, free webdesigns for Nokia, Samsung, LG, SonyErricsson, Motorola web design" />
<!--Google Fonts-->
<link href='http://fonts.useso.com/css?family=Roboto:500,900italic,900,400italic,100,700italic,300,700,500italic,100italic,300italic,400' rel='stylesheet' type='text/css'>
<link href='http://fonts.useso.com/css?family=Droid+Serif:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
<!--Google Fonts-->
    <script src="js/jquery-3.3.1.min.js" type="text/javascript"></script>
    <script type="text/javascript">
        $.fn.serializeJson=function(){
            var serializeObj={};
            var array=this.serializeArray();
            var str=this.serialize();
            $(array).each(function(){
                if(serializeObj[this.name]){
                    if($.isArray(serializeObj[this.name])){
                        serializeObj[this.name].push(this.value);
                    }else{
                        serializeObj[this.name]=[serializeObj[this.name],this.value];
                    }
                }else{
                    serializeObj[this.name]=this.value;
                }
            });
            return serializeObj;
        };
        function resgister(){
          var d = $("#froml").serializeJson()
            $.ajax({
                url:"/user/reg",
                type:"post",
                data:d,
                success:function (data) {
                    if (data){
                        alert("注册成功,您可以登录了")
						location.href="login.html"
                    }else {
                        alert("用户名重复,注册失败")
                    }
                }
            })
        }
    </script>

</head>
<body>
<div class="login">
	<h2>MXG注册</h2>
	<div class="login-top">
		<h1>这是注册哦</h1>
		<form id="froml">
			<input type="text" id="username" name="username" value="" onfocus="this.value = '';" onblur="if (this.value == '') {this.value = '请输入用户名';}">
			<input type="password" id="password" name="password" value="" onfocus="this.value = '';" onblur="if (this.value == '') {this.value = '1';}">
	    </form>
	    <div class="forgot">
	    	<input type="submit" onclick="resgister()" value="注册" >
	    </div>
	</div>
	<div class="login-bottom">
		<h3>注册完了？ &nbsp;<a href="login.html">登录</a>&nbsp 在这里</h3>
	</div>
</div>	
</body>
</html>